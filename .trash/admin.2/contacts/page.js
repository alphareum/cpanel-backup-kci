(()=>{var e={};e.id=527,e.ids=[527],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9229:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),a(2060),a(9115),a(3358),a(7824);var s=a(3282),n=a(5736),l=a(3906),r=a.n(l),i=a(6880),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["admin",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2060)),"C:\\Users\\alpha\\OneDrive\\Documents\\GitHub\\website-kci\\apps\\web\\app\\admin\\contacts\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9115)),"C:\\Users\\alpha\\OneDrive\\Documents\\GitHub\\website-kci\\apps\\web\\app\\admin\\layout.js"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,3358)),"C:\\Users\\alpha\\OneDrive\\Documents\\GitHub\\website-kci\\apps\\web\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7824,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\alpha\\OneDrive\\Documents\\GitHub\\website-kci\\apps\\web\\app\\admin\\contacts\\page.js"],u="/admin/contacts/page",h={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/contacts/page",pathname:"/admin/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2650:(e,t,a)=>{Promise.resolve().then(a.bind(a,4852))},5786:(e,t,a)=>{Promise.resolve().then(a.bind(a,2802))},8412:()=>{},4090:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,4424,23)),Promise.resolve().then(a.t.bind(a,7752,23)),Promise.resolve().then(a.t.bind(a,5275,23)),Promise.resolve().then(a.t.bind(a,9842,23)),Promise.resolve().then(a.t.bind(a,1633,23)),Promise.resolve().then(a.t.bind(a,9224,23))},4852:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(3227),n=a(3677),l=a(3083),r=a(2429),i=a(4985);function o(){return{id:null,name:"",role:"",phone:"",whatsapp_url:"",photo_url:""}}function c(){let{data:e,error:t,isLoading:a,mutate:c}=(0,l.ZP)("/contacts",()=>(0,i.R1)("/contacts")),d=(0,n.useMemo)(()=>e?.contacts??[],[e]),[u,h]=(0,n.useState)(!1),[p,m]=(0,n.useState)(()=>o()),[x,b]=(0,n.useState)(""),[g,j]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1);function y(){h(!1),j(!1),b("")}function w(e,t){m(a=>({...a,[e]:t}))}async function k(e){e.preventDefault(),j(!0),b("");let t={id:p.id??void 0,name:p.name.trim(),role:p.role.trim()?p.role.trim():null,phone:p.phone.trim()?p.phone.trim():null,whatsapp_url:p.whatsapp_url.trim()?p.whatsapp_url.trim():null,photo_url:p.photo_url.trim()?p.photo_url.trim():null};try{await (0,i.sg)("/contacts",t),await c(),y()}catch(e){b(e.message||"Failed to save contact")}finally{j(!1)}}async function N(e){if(window.confirm(`Delete contact "${e.name}"?`))try{await (0,i.QW)(`/contacts/${e.id}`),await c()}catch(e){alert(e.message||"Failed to delete contact")}}function _(){v(!1)}return(0,s.jsxs)("section",{children:[(0,s.jsxs)("header",{className:"action-bar",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{style:{margin:0},children:"Contacts"}),s.jsx("p",{style:{margin:0,color:"#555"},children:"Manage the contact cards displayed on the public site. Add WhatsApp links and phone numbers for quick access."})]}),s.jsx("button",{className:"button",onClick:function(){m(o()),b(""),h(!0)},children:"New contact"})]}),t?s.jsx("div",{className:"alert",children:t.message}):null,a?s.jsx("p",{children:"Loading contacts…"}):0===d.length?s.jsx("div",{className:"empty-state",children:"No contacts yet. Add your first team member."}):s.jsx("div",{className:"stack",children:d.map(e=>s.jsx("div",{className:"card",children:(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr auto",gap:"1rem",alignItems:"center"},children:[s.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"9999px",overflow:"hidden",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.85rem",color:"#555"},children:e.photo_url?s.jsx("img",{src:e.photo_url,alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("span",{children:"No photo"})}),(0,s.jsxs)("div",{className:"stack",style:{gap:"0.35rem"},children:[(0,s.jsxs)("div",{children:[s.jsx("strong",{children:e.name}),e.role?s.jsx("span",{style:{display:"block",color:"#555"},children:e.role}):null]}),e.phone?(0,s.jsxs)("span",{style:{color:"#555"},children:["Phone: ",s.jsx("a",{href:`tel:${e.phone.replace(/\s+/g,"")}`,children:e.phone})]}):null,e.whatsapp_url?s.jsx("a",{href:e.whatsapp_url,target:"_blank",rel:"noreferrer",style:{color:"#1f6feb"},children:"WhatsApp link"}):null]}),(0,s.jsxs)("div",{className:"stack",style:{gap:"0.5rem"},children:[s.jsx("button",{className:"button secondary",onClick:()=>{m({id:e.id,name:e.name??"",role:e.role??"",phone:e.phone??"",whatsapp_url:e.whatsapp_url??"",photo_url:e.photo_url??""}),b(""),h(!0)},children:"Edit"}),s.jsx("button",{className:"button",onClick:()=>N(e),children:"Delete"})]})]})},e.id))}),u?s.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsxs)("header",{className:"stack",style:{marginBottom:"1rem"},children:[s.jsx("h2",{style:{margin:0},children:p.id?"Edit contact":"Add contact"}),s.jsx("p",{style:{margin:0,color:"#555"},children:"Provide the contact details that should appear on the website. All fields except name are optional."})]}),x?s.jsx("div",{className:"alert",children:x}):null,(0,s.jsxs)("form",{className:"stack",onSubmit:k,children:[(0,s.jsxs)("div",{className:"form-grid two-col",children:[(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"contact-name",children:"Name"}),s.jsx("input",{id:"contact-name",type:"text",value:p.name,onChange:e=>w("name",e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"contact-role",children:"Role / Title"}),s.jsx("input",{id:"contact-role",type:"text",value:p.role,onChange:e=>w("role",e.target.value),placeholder:"e.g. Founder"})]})]}),(0,s.jsxs)("div",{className:"form-grid two-col",children:[(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"contact-phone",children:"Phone number"}),s.jsx("input",{id:"contact-phone",type:"text",value:p.phone,onChange:e=>w("phone",e.target.value),placeholder:"e.g. +62 812-1234-5678"})]}),(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"contact-whatsapp",children:"WhatsApp link"}),s.jsx("input",{id:"contact-whatsapp",type:"url",value:p.whatsapp_url,onChange:e=>w("whatsapp_url",e.target.value),placeholder:"https://wa.me/..."})]})]}),(0,s.jsxs)("div",{className:"stack",children:[(0,s.jsxs)("div",{className:"input-group",children:[s.jsx("label",{htmlFor:"contact-photo",children:"Photo URL"}),s.jsx("input",{id:"contact-photo",type:"url",value:p.photo_url,onChange:e=>w("photo_url",e.target.value),placeholder:"https://example.com/avatar.jpg"})]}),s.jsx("div",{children:s.jsx("button",{type:"button",className:"button secondary",onClick:function(){v(!0)},children:"Choose from media library"})}),p.photo_url?s.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"9999px",overflow:"hidden",border:"1px solid #e5e7eb"},children:s.jsx("img",{src:p.photo_url,alt:p.name||"Selected avatar",style:{width:"100%",height:"100%",objectFit:"cover"}})}):null]}),(0,s.jsxs)("footer",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem"},children:[s.jsx("button",{type:"button",className:"button secondary",onClick:y,disabled:g,children:"Cancel"}),s.jsx("button",{type:"submit",className:"button",disabled:g,children:g?"Saving…":"Save contact"})]})]})]})}):null,s.jsx(r.R,{open:f,onClose:_,onSelect:function(e){w("photo_url",e.asset_url||""),_()}})]})}},2802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(3227),n=a(649),l=a(1043),r=a(3677),i=a(4707);let o=[{href:"/admin/posts",label:"Posts"},{href:"/admin/events",label:"Events"},{href:"/admin/media",label:"Media"},{href:"/admin/contacts",label:"Contacts"},{href:"/admin/links",label:"Links"},{href:"/admin/messages",label:"Messages"}];function c({children:e}){let t=(0,l.usePathname)(),a=(0,l.useRouter)(),[c,d]=(0,r.useState)(!1);return c?(0,s.jsxs)("div",{children:[s.jsx("nav",{className:"admin-nav",children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("ul",{children:o.map(e=>{let a=t?.startsWith(e.href);return s.jsx("li",{children:s.jsx(n.default,{href:e.href,className:a?"active":void 0,children:e.label})},e.href)})}),s.jsx("div",{style:{paddingRight:"1.5rem"},children:s.jsx("button",{className:"button secondary",onClick:function(){(0,i.Ov)(),a.replace("/login")},children:"Sign out"})})]})}),s.jsx("main",{children:e})]}):null}},2429:(e,t,a)=>{"use strict";a.d(t,{R:()=>c});var s=a(3227),n=a(3677),l=a(3083),r=a(4985);let i=[{value:"testimonial",label:"Testimonials"},{value:"partner",label:"Partners"},{value:"gallery",label:"Gallery"}];function o({type:e,onSelect:t}){let{data:a,error:i,isLoading:o}=(0,l.ZP)(`/media/${e}`,()=>(0,r.R1)(`/media/${e}`)),c=(0,n.useMemo)(()=>a?.items??[],[a]);return i?s.jsx("div",{className:"alert",children:i.message}):o?s.jsx("p",{children:"Loading media…"}):0===c.length?s.jsx("div",{className:"empty-state",children:"No media in this group yet."}):s.jsx("div",{className:"stack",children:c.map(e=>(0,s.jsxs)("button",{type:"button",className:"card",style:{textAlign:"left",display:"grid",gridTemplateColumns:"96px 1fr auto",gap:"1rem",alignItems:"center"},onClick:()=>t(e),children:[s.jsx("div",{style:{width:"96px",height:"96px",borderRadius:"0.75rem",overflow:"hidden",background:"#f3f4f6",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #e5e7eb"},children:e.asset_url?s.jsx("img",{src:e.asset_url,alt:e.title||"Media asset",style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("span",{style:{color:"#555"},children:"No preview"})}),(0,s.jsxs)("div",{className:"stack",style:{gap:"0.35rem"},children:[s.jsx("strong",{children:e.title||"Untitled asset"}),e.description?s.jsx("span",{style:{color:"#555"},children:e.description}):null,s.jsx("span",{style:{fontSize:"0.85rem",color:"#1f6feb",wordBreak:"break-all"},children:e.asset_url})]}),s.jsx("span",{className:"badge",style:{justifySelf:"flex-start"},children:"Select"})]},e.id))})}function c({open:e,onClose:t,onSelect:a}){let[l,r]=(0,n.useState)(i[0]?.value??"testimonial");return e?s.jsx("div",{className:"modal-backdrop",role:"dialog","aria-modal":"true",children:(0,s.jsxs)("div",{className:"modal",style:{maxWidth:"720px"},children:[(0,s.jsxs)("header",{className:"stack",style:{marginBottom:"1rem"},children:[s.jsx("h2",{style:{margin:0},children:"Choose media"}),s.jsx("p",{style:{margin:0,color:"#555"},children:"Pick an image from the media library. You can manage assets from the Media section of the admin panel."})]}),s.jsx("div",{className:"tabs",role:"tablist",style:{marginBottom:"1rem"},children:i.map(e=>s.jsx("button",{type:"button",role:"tab","aria-selected":l===e.value,className:`tab ${l===e.value?"active":""}`,onClick:()=>r(e.value),children:e.label},e.value))}),s.jsx("div",{style:{maxHeight:"420px",overflowY:"auto",paddingRight:"0.5rem"},children:s.jsx(o,{type:l,onSelect:e=>a(e)})}),s.jsx("footer",{style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end"},children:s.jsx("button",{type:"button",className:"button secondary",onClick:t,children:"Close"})})]})}):null}},4985:(e,t,a)=>{"use strict";async function s(e,t={}){let a=`https://api.komunitaschineseindonesia.com${e}`,s="undefined"!=typeof FormData&&t.body instanceof FormData?{...t.headers||{}}:{"Content-Type":"application/json",...t.headers||{}},n=await fetch(a,{...t,headers:s});if(!n.ok){let e=n.statusText;try{let t=await n.json();e=t?.message||e}catch(e){}throw Error(e||"Request failed")}return 204===n.status?null:await n.json()}function n(e){return s(e,{method:"GET"})}function l(e,t){return s(e,{method:"POST",body:JSON.stringify(t)})}function r(e,t){return s(e,{method:"POST",body:t})}function i(e){return s(e,{method:"DELETE"})}a.d(t,{QW:()=>i,R1:()=>n,sg:()=>l,zi:()=>r})},4707:(e,t,a)=>{"use strict";function s(e){}function n(){}a.d(t,{Ov:()=>n,ed:()=>s})},1043:(e,t,a)=>{"use strict";var s=a(2854);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},2060:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>r,__esModule:()=>l,default:()=>i});var s=a(3189);let n=(0,s.createProxy)(String.raw`C:\Users\alpha\OneDrive\Documents\GitHub\website-kci\apps\web\app\admin\contacts\page.js`),{__esModule:l,$$typeof:r}=n;n.default;let i=(0,s.createProxy)(String.raw`C:\Users\alpha\OneDrive\Documents\GitHub\website-kci\apps\web\app\admin\contacts\page.js#default`)},9115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>r,__esModule:()=>l,default:()=>i});var s=a(3189);let n=(0,s.createProxy)(String.raw`C:\Users\alpha\OneDrive\Documents\GitHub\website-kci\apps\web\app\admin\layout.js`),{__esModule:l,$$typeof:r}=n;n.default;let i=(0,s.createProxy)(String.raw`C:\Users\alpha\OneDrive\Documents\GitHub\website-kci\apps\web\app\admin\layout.js#default`)},3358:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>n});var s=a(9013);a(1);let n={title:{default:"Komunitas Chinese Indonesia",template:"%s — Komunitas Chinese Indonesia"},description:"Komunitas Chinese Indonesia (KCI) menjadi ruang kolaborasi untuk melestarikan budaya dan menggerakkan komunitas."};function l({children:e}){return s.jsx("html",{lang:"id",children:s.jsx("body",{children:e})})}},1:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[592,649,83],()=>a(9229));module.exports=s})();