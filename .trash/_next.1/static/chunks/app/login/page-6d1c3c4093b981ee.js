(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{8142:function(e,t,n){Promise.resolve().then(n.bind(n,7864))},7864:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(7573),r=n(7653),i=n(7754),s=n(4077),u=n(7656);function o(){let e=(0,i.useRouter)(),[t,n]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),[f,h]=(0,r.useState)("");async function m(n){n.preventDefault(),d(!0),h("");try{let n=await (0,u.sg)("/auth/login",{email:t,password:o});(0,s.ed)(n),e.replace("/admin")}catch(e){h(e.message||"Login failed")}finally{d(!1)}}return(0,r.useEffect)(()=>{(0,s.Gg)()&&e.replace("/admin")},[e]),(0,a.jsx)("main",{style:{display:"grid",placeItems:"center",minHeight:"100vh"},children:(0,a.jsx)("div",{className:"card",style:{width:"min(420px, 100%)"},children:(0,a.jsxs)("div",{className:"stack",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{style:{margin:0},children:"KCI CMS Login"}),(0,a.jsx)("p",{style:{marginTop:"0.35rem",color:"#555"},children:"Enter your admin credentials to continue."})]}),f?(0,a.jsx)("div",{className:"alert",children:f}):null,(0,a.jsxs)("form",{className:"stack",onSubmit:m,children:[(0,a.jsxs)("label",{className:"stack",children:[(0,a.jsx)("span",{children:"Email"}),(0,a.jsx)("input",{type:"email",required:!0,value:t,onChange:e=>n(e.target.value),placeholder:"admin@example.com"})]}),(0,a.jsxs)("label",{className:"stack",children:[(0,a.jsx)("span",{children:"Password"}),(0,a.jsx)("input",{type:"password",required:!0,value:o,onChange:e=>c(e.target.value),placeholder:"••••••••"})]}),(0,a.jsx)("button",{className:"button",type:"submit",disabled:l,children:l?"Signing in…":"Sign in"})]})]})})})}},7656:function(e,t,n){"use strict";async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="".concat("http://127.0.0.1:3001/api").concat(e),a="undefined"!=typeof FormData&&t.body instanceof FormData?{...t.headers||{}}:{"Content-Type":"application/json",...t.headers||{}},r=await fetch(n,{...t,headers:a});if(!r.ok){let e=r.statusText;try{let t=await r.json();e=(null==t?void 0:t.message)||e}catch(e){}throw Error(e||"Request failed")}return 204===r.status?null:await r.json()}function r(e){return a(e,{method:"GET"})}function i(e,t){return a(e,{method:"POST",body:JSON.stringify(t)})}function s(e,t){return a(e,{method:"POST",body:t})}function u(e){return a(e,{method:"DELETE"})}n.d(t,{QW:function(){return u},R1:function(){return r},sg:function(){return i},zi:function(){return s}})},4077:function(e,t,n){"use strict";n.d(t,{Gg:function(){return r},Ov:function(){return s},ed:function(){return i}});let a="kci_admin_session";function r(){try{let e=window.localStorage.getItem(a);return e?JSON.parse(e):null}catch(e){return console.warn("Failed to read session",e),null}}function i(e){window.localStorage.setItem(a,JSON.stringify(e))}function s(){window.localStorage.removeItem(a)}},7754:function(e,t,n){"use strict";var a=n(534);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[293,286,744],function(){return e(e.s=8142)}),_N_E=e.O()}]);