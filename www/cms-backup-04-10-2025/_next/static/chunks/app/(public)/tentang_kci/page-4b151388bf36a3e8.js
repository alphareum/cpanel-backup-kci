(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{7853:function(e,n,t){Promise.resolve().then(t.bind(t,5971))},5971:function(e,n,t){"use strict";t.d(n,{LegacyShell:function(){return h},x:function(){return c}});var l=t(7573),o=t(7659),a=t(7653),i=t(8428),r=t(7656);let s=Object.freeze({primary:[],secondary:[],social:[]});function c(){let{data:e,error:n,isLoading:t}=(0,i.ZP)("/links",()=>(0,r.R1)("/links"));return{groups:(0,a.useMemo)(()=>(null==e?void 0:e.links)?function(e){if(!Array.isArray(e))return s;let n={primary:[],secondary:[],social:[]};return e.forEach(e=>{if(!(null==e?void 0:e.is_active))return;let t=null==e?void 0:e.category;if(!t||!(t in n))return;let l=function(e){var n,t,l,o,a;let i=null!==(t=null!==(n=null==e?void 0:e.url)&&void 0!==n?n:null==e?void 0:e.href)&&void 0!==t?t:"",r=null!==(a=null!==(o=null!==(l=null==e?void 0:e.label)&&void 0!==l?l:null==e?void 0:e.title)&&void 0!==o?o:null==e?void 0:e.name)&&void 0!==a?a:i;return{id:null==e?void 0:e.id,label:r,href:i,url:i,original:e}}(e);l.href&&l.label&&n[t].push(l)}),n}(e.links):s,[e]),error:n,isLoading:t}}function u(e){return e.startsWith("#")}function d(e){let{href:n,children:t,onClick:a}=e,i="nav-link";return/^https?:/i.test(n)?(0,l.jsx)("a",{href:n,className:i,target:"_blank",rel:"noopener noreferrer",onClick:a,children:t}):u(n)?(0,l.jsx)("a",{href:n,className:i,onClick:a,children:t}):(0,l.jsx)(o.default,{href:n,className:i,onClick:a,children:t})}function h(e){let{children:n,navLinks:t=[],variant:o="home"}=e,[i,r]=(0,a.useState)(!1),[s,c]=(0,a.useState)("light"),[h,f]=(0,a.useState)(!1),[m,v]=(0,a.useState)("translateY(0)"),[g,p]=(0,a.useState)(!0),y=(0,a.useRef)(0),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=window.localStorage.getItem("legacy-theme");("dark"===e||"light"===e)&&c(e)},[]),(0,a.useEffect)(()=>{let e=window.setTimeout(()=>{p(!1)},500);return()=>window.clearTimeout(e)},[]),(0,a.useEffect)(()=>{function e(){let e=window.scrollY;e>100&&e>y.current?v("translateY(-100%)"):v("translateY(0)"),f(e>500),y.current=e}return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,a.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),(0,a.useEffect)(()=>{window.localStorage.setItem("legacy-theme",s)},[s]);let w=e=>n=>{if(u(e)){n.preventDefault();let t=document.querySelector(e);if(t){let e=t.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:e,behavior:"smooth"})}}r(!1)},j=(0,a.useMemo)(()=>"dark"===s?"\uD83C\uDF19":"☀️",[s]),x="legacy-shell".concat(i?" legacy-shell--menu-open":""),k=(0,a.useMemo)(()=>Array.isArray(t)?t.filter(e=>(null==e?void 0:e.href)&&(null==e?void 0:e.label)):[],[t]);return(0,l.jsxs)("div",{className:x,"data-theme":s,children:[(0,l.jsx)("div",{className:"pattern-overlay","aria-hidden":"true"}),(0,l.jsx)("div",{className:"loader".concat(g?"":" hidden"),id:"loader","aria-hidden":g?"false":"true",children:(0,l.jsx)("div",{className:"loader-spinner"})}),(0,l.jsx)("header",{id:"header",ref:b,style:{transform:m},children:(0,l.jsxs)("nav",{className:"container nav-container",children:[(0,l.jsx)("div",{className:"logo-section",children:(0,l.jsxs)("div",{className:"logo-text",children:[(0,l.jsx)("span",{className:"logo-main",children:"KCI"}),(0,l.jsx)("span",{className:"logo-sub",children:"Komunitas Chinese Indonesia"})]})}),(0,l.jsxs)("ul",{className:"nav-menu".concat(i?" active":""),id:"navMenu",children:[k.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)(d,{href:e.href,onClick:w(e.href),children:e.label})},e.href)),(0,l.jsx)("li",{children:(0,l.jsx)("button",{type:"button",className:"theme-toggle",id:"themeToggle",onClick:()=>{c(e=>"dark"===e?"light":"dark")},"aria-label":"Toggle tema",children:j})})]}),(0,l.jsxs)("button",{type:"button",className:"menu-toggle".concat(i?" active":""),id:"menuToggle","aria-expanded":i,"aria-label":"Toggle navigasi",onClick:()=>r(e=>!e),children:[(0,l.jsx)("span",{}),(0,l.jsx)("span",{}),(0,l.jsx)("span",{})]})]})}),(0,l.jsx)("div",{className:"legacy-content legacy-content--".concat(o),children:n}),(0,l.jsx)("button",{type:"button",className:"scroll-top".concat(h?" visible":""),id:"scrollTop",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Kembali ke atas",children:"↑"})]})}},7656:function(e,n,t){"use strict";async function l(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat("https://api.komunitaschineseindonesia.com/api").concat(e),l="undefined"!=typeof FormData&&n.body instanceof FormData?{...n.headers||{}}:{"Content-Type":"application/json",...n.headers||{}},o=await fetch(t,{...n,headers:l});if(!o.ok){let e=o.statusText;try{let n=await o.json();e=(null==n?void 0:n.message)||e}catch(e){}throw Error(e||"Request failed")}return 204===o.status?null:await o.json()}function o(e){return l(e,{method:"GET"})}function a(e,n){return l(e,{method:"POST",body:JSON.stringify(n)})}function i(e,n){return l(e,{method:"POST",body:n})}function r(e){return l(e,{method:"DELETE"})}t.d(n,{QW:function(){return r},R1:function(){return o},sg:function(){return a},zi:function(){return i}})}},function(e){e.O(0,[428,659,293,286,744],function(){return e(e.s=7853)}),_N_E=e.O()}]);