(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[657],{6251:function(e,n,l){Promise.resolve().then(l.bind(l,6699)),Promise.resolve().then(l.bind(l,5971))},6699:function(e,n,l){"use strict";l.d(n,{GalleryGrid:function(){return s}});var t=l(7573),a=l(8428),i=l(7656);function r(e){let{item:n}=e,l=n.metadata||{},a=l.alt||n.title||"Dokumentasi KCI",i=n.description||l.subtitle;return(0,t.jsxs)("figure",{className:"gallery-card",children:[n.asset_url?(0,t.jsx)("img",{className:"gallery-image",src:n.asset_url,alt:a,loading:"lazy"}):(0,t.jsx)("div",{className:"gallery-image","aria-hidden":"true"}),(0,t.jsxs)("figcaption",{className:"gallery-caption",children:[(0,t.jsx)("h3",{children:n.title||"Dokumentasi KCI"}),i?(0,t.jsx)("p",{children:i}):null]})]})}function s(){var e;let{data:n,error:l,isLoading:s}=(0,a.ZP)("/media/gallery",()=>(0,i.R1)("/media/gallery")),o=null!==(e=null==n?void 0:n.items)&&void 0!==e?e:[],c=o.length>0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"gallery-grid","data-gallery-list":!0,hidden:!c||s,children:o.map(e=>(0,t.jsx)(r,{item:e},e.id))}),(0,t.jsxs)("div",{className:"dynamic-placeholder","data-gallery-empty":!0,hidden:c||l||s,children:[(0,t.jsx)("p",{children:"No documentation yet."}),(0,t.jsx)("p",{children:"Silakan kembali lagi nanti untuk melihat momen terbaru."})]}),(0,t.jsx)("div",{className:"dynamic-placeholder",hidden:!s,children:(0,t.jsx)("p",{children:"Memuat dokumentasi…"})}),(0,t.jsx)("div",{className:"dynamic-error","data-gallery-error":!0,hidden:!l,children:"Gagal memuat dokumentasi."})]})}},5971:function(e,n,l){"use strict";l.d(n,{LegacyShell:function(){return h},x:function(){return c}});var t=l(7573),a=l(7659),i=l(7653),r=l(8428),s=l(7656);let o=Object.freeze({primary:[],secondary:[],social:[]});function c(){let{data:e,error:n,isLoading:l}=(0,r.ZP)("/links",()=>(0,s.R1)("/links"));return{groups:(0,i.useMemo)(()=>(null==e?void 0:e.links)?function(e){if(!Array.isArray(e))return o;let n={primary:[],secondary:[],social:[]};return e.forEach(e=>{if(!(null==e?void 0:e.is_active))return;let l=null==e?void 0:e.category;if(!l||!(l in n))return;let t=function(e){var n,l,t,a,i;let r=null!==(l=null!==(n=null==e?void 0:e.url)&&void 0!==n?n:null==e?void 0:e.href)&&void 0!==l?l:"",s=null!==(i=null!==(a=null!==(t=null==e?void 0:e.label)&&void 0!==t?t:null==e?void 0:e.title)&&void 0!==a?a:null==e?void 0:e.name)&&void 0!==i?i:r;return{id:null==e?void 0:e.id,label:s,href:r,url:r,original:e}}(e);t.href&&t.label&&n[l].push(t)}),n}(e.links):o,[e]),error:n,isLoading:l}}function d(e){return e.startsWith("#")}function u(e){let{href:n,children:l,onClick:i}=e,r="nav-link";return/^https?:/i.test(n)?(0,t.jsx)("a",{href:n,className:r,target:"_blank",rel:"noopener noreferrer",onClick:i,children:l}):d(n)?(0,t.jsx)("a",{href:n,className:r,onClick:i,children:l}):(0,t.jsx)(a.default,{href:n,className:r,onClick:i,children:l})}function h(e){let{children:n,navLinks:l=[],variant:a="home"}=e,[r,s]=(0,i.useState)(!1),[o,c]=(0,i.useState)("light"),[h,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)("translateY(0)"),[v,y]=(0,i.useState)(!0),p=(0,i.useRef)(0),j=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=window.localStorage.getItem("legacy-theme");("dark"===e||"light"===e)&&c(e)},[]),(0,i.useEffect)(()=>{let e=window.setTimeout(()=>{y(!1)},500);return()=>window.clearTimeout(e)},[]),(0,i.useEffect)(()=>{function e(){let e=window.scrollY;e>100&&e>p.current?g("translateY(-100%)"):g("translateY(0)"),m(e>500),p.current=e}return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),(0,i.useEffect)(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),(0,i.useEffect)(()=>{window.localStorage.setItem("legacy-theme",o)},[o]);let x=e=>n=>{if(d(e)){n.preventDefault();let l=document.querySelector(e);if(l){let e=l.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:e,behavior:"smooth"})}}s(!1)},b=(0,i.useMemo)(()=>"dark"===o?"\uD83C\uDF19":"☀️",[o]),k="legacy-shell".concat(r?" legacy-shell--menu-open":""),N=(0,i.useMemo)(()=>Array.isArray(l)?l.filter(e=>(null==e?void 0:e.href)&&(null==e?void 0:e.label)):[],[l]);return(0,t.jsxs)("div",{className:k,"data-theme":o,children:[(0,t.jsx)("div",{className:"pattern-overlay","aria-hidden":"true"}),(0,t.jsx)("div",{className:"loader".concat(v?"":" hidden"),id:"loader","aria-hidden":v?"false":"true",children:(0,t.jsx)("div",{className:"loader-spinner"})}),(0,t.jsx)("header",{id:"header",ref:j,style:{transform:f},children:(0,t.jsxs)("nav",{className:"container nav-container",children:[(0,t.jsx)("div",{className:"logo-section",children:(0,t.jsxs)("div",{className:"logo-text",children:[(0,t.jsx)("span",{className:"logo-main",children:"KCI"}),(0,t.jsx)("span",{className:"logo-sub",children:"Komunitas Chinese Indonesia"})]})}),(0,t.jsxs)("ul",{className:"nav-menu".concat(r?" active":""),id:"navMenu",children:[N.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)(u,{href:e.href,onClick:x(e.href),children:e.label})},e.href)),(0,t.jsx)("li",{children:(0,t.jsx)("button",{type:"button",className:"theme-toggle",id:"themeToggle",onClick:()=>{c(e=>"dark"===e?"light":"dark")},"aria-label":"Toggle tema",children:b})})]}),(0,t.jsxs)("button",{type:"button",className:"menu-toggle".concat(r?" active":""),id:"menuToggle","aria-expanded":r,"aria-label":"Toggle navigasi",onClick:()=>s(e=>!e),children:[(0,t.jsx)("span",{}),(0,t.jsx)("span",{}),(0,t.jsx)("span",{})]})]})}),(0,t.jsx)("div",{className:"legacy-content legacy-content--".concat(a),children:n}),(0,t.jsx)("button",{type:"button",className:"scroll-top".concat(h?" visible":""),id:"scrollTop",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Kembali ke atas",children:"↑"})]})}},7656:function(e,n,l){"use strict";async function t(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l="".concat("https://api.komunitaschineseindonesia.com/api").concat(e),t="undefined"!=typeof FormData&&n.body instanceof FormData?{...n.headers||{}}:{"Content-Type":"application/json",...n.headers||{}},a=await fetch(l,{...n,headers:t});if(!a.ok){let e=a.statusText;try{let n=await a.json();e=(null==n?void 0:n.message)||e}catch(e){}throw Error(e||"Request failed")}return 204===a.status?null:await a.json()}function a(e){return t(e,{method:"GET"})}function i(e,n){return t(e,{method:"POST",body:JSON.stringify(n)})}function r(e,n){return t(e,{method:"POST",body:n})}function s(e){return t(e,{method:"DELETE"})}l.d(n,{QW:function(){return s},R1:function(){return a},sg:function(){return i},zi:function(){return r}})}},function(e){e.O(0,[428,659,293,286,744],function(){return e(e.s=6251)}),_N_E=e.O()}]);